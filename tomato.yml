---

randomize: true
stop_on_failure: false

resources:
  - name: http-client
    type: http/client
    ready_check: true
    params:
      base_url: {{ .CLIENT_BASE_URL }}

  - name: customer-app
    type: http/server
    ready_check: true
    params:
      port: {{ .CUSTOMER_APP_PORT }}

  - name: mq
    type: queue
    ready_check: true
    params:
      driver: rabbitmq
      datasource: {{ .QUEUE_DSN }}
      wait_duration: 200ms

  - name: db1
    type: database/sql
    ready_check: true
    params:
      driver: postgres
      datasource: {{ .DATABASE_DSN }}
